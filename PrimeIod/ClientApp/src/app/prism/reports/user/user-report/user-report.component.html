<app-loader [isLoading]="isLoading"></app-loader>
<div class="">
	<div class="row">
		<div class="col-md-12">
			<div class="clearfix">
				<h4 class="mb-3 float-start me-3">{{title}}</h4>
				<!-- <button type="button" class="btn btn-primary mb-3 float-end" (click)="onClickBack()">Back</button> -->
			</div>
		</div>
	</div>
	<div class="bg-icon-light me-n5 ms-n5 px-3 py-3 border-bottom border-top">
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-3">
						<div class="form-group">
							<label class="form-label">Role</label>
							<ng-select 
								[items]="roles" 
								id="exampleFormControlSelect1" 
								bindLabel="name" 
								bindValue="id"
								[multiple]="true"
								placeholder="Role" 
								[(ngModel)]="roleFilters" 
								[clearable]="true"
								(ngModelChange)="onFiltersChange()">
								<!-- <ng-option  [value]="0" > [All]</ng-option> -->
								<!-- <ng-option *ngFor="let rec of roles" [value]="rec.recId">{{ rec.name }}</ng-option> -->
							</ng-select>
						</div>
					</div>
				</div>
				<!-- <app-filter-four [records]="records" (filterChange)="onFilterChange($event)"></app-filter-four> -->
			</div>
		</div>
	</div>

	<div class="row">
		<!-- <div class="col-md-12"> -->
		<!-- <div> -->
		<div class="table-responsive">
			<app-data-table-base [pageNumber]="pageNumber" [pageSize]="pageSize" [columns]="columns"
				[records]="filteredRecords"></app-data-table-base>
		</div>

		<pagination-control [page]="pageNumber" [pageSize]="pageSize" [collectionSize]="filteredRecords?.length"
			(onPageChange)="onPageChange($event)"></pagination-control>
		<!-- </div> -->
		<!-- </div> -->
	</div>
	<div class="row">
		<div class="col-md-12">
			<app-report-download-csv-2-json
        [records]="records"
        [fields]="columns"
        [fileName]="csvfileName"
        [appendDateToFiileName]="true"
      ></app-report-download-csv-2-json>
		</div>
	</div>
</div>