<app-loader [isLoading]="true" *ngIf="loading"></app-loader>

<h4>Tasks</h4>
<hr />

<!-- dataProcessing : {{ studyTasks?.dataProcessing[0] | json }} -->
<!-- <p>programmingTasks: {{ programmingTasks | json }}</p> -->
<form [formGroup]="form" (ngSubmit)="submit()">
  <!-- <button type="submit" class="btn btn-primary submit-button" [disabled]="!(form.valid && form.dirty)">Save</button>
  <button type="button" class="btn btn-light" (click)="options.resetModel()">Undo</button>
  <span class="alert alert-info">Last Updated on: {{ studyTasks?.updatedOn | date: 'd-MMM-y, h:mm a' }}</span>
  <hr /> -->
  <formly-form [model]="studyTasks" [fields]="fields" [options]="options" [form]="form"></formly-form>

  <button type="submit" class="btn btn-primary submit-button me-1" [disabled]="!(form.valid && form.dirty)">Save</button>
  <button type="button" class="btn btn-light me-1" (click)="options.resetModel()">Undo</button>
  <!-- <span class="alert alert-info">Last Updated on: {{ studyTasks?.lastSavedOn | date: 'd-MMM-y, h:mm a' }}</span> -->
  <!-- <br/> -->
  <app-last-saved [auditFields]="studyTasks?.databaseBuildTasks"></app-last-saved>

</form>
<br />
<div ng-show="studyTasks.messageCDSDevpCreated!=null"><p>{{studyTasks.messageCDSDevpCreated}}</p></div>

<!-- <hr /> -->

<!-- <p>Record: {{ studyTasks | json }}</p> -->
