<app-loader [isLoading]="isLoading"></app-loader>
<div class="">
  <div class="row">
    <div class="col-md-12">
      <div class="clearfix">
        <h4 class="mb-3 float-start me-3">Missing Forms and Pending Offline Checks</h4>
        <!-- <button type="button" class="btn btn-primary mb-3 float-end" (click)="onClickBack()">Back</button> -->
      </div>
      <div class="bg-icon-light me-n5 ms-n5 px-3 py-3 border-bottom border-top">
        <app-region-portfolio-dmpm-cdms-filter
          (filterChange)="onFilterChange($event)"
        ></app-region-portfolio-dmpm-cdms-filter>
      </div>
    </div>
    <div class="col-md-12 mt-3 border-top pt-3">

      <ul ngbNav #nav="ngbNav" class="nav-pills">
        <li ngbNavItem>
          <a ngbNavLink>Empty Forms ({{ missingFormsCount }}) </a>
          <ng-template ngbNavContent>
            <app-missing-forms-list [records]="filteredMissingFormsecords" [searchTerm]="searchTerm">
            </app-missing-forms-list>
          </ng-template>
        </li>
        <li ngbNavItem>
          <a ngbNavLink>Offline Checks Firing  ({{ offlineValidationRecordsCount }})</a>
          <ng-template ngbNavContent>
            <div *ngIf="totalStudies > requestedStudyCount">
              Report generation in progress ... Studies processed: {{ requestedStudyCount }} / {{ totalStudies }}
            </div>

            <app-offline-validations-list [records]="sortedOfflineValidationRecords" [searchTerm]="searchTerm">
            </app-offline-validations-list>
          </ng-template>
        </li>
      </ul>
      <div [ngbNavOutlet]="nav" class="mt-2"></div>

      <!-- <ngb-tabset type="pills">
        <ngb-tab title="Empty Forms ({{ missingFormsCount }}) ">
          <ng-template ngbTabContent>
            <app-missing-forms-list [records]="filteredMissingFormsecords" [searchTerm]="searchTerm">
            </app-missing-forms-list>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Offline Checks Firing  ({{ offlineValidationRecordsCount }})">
          <ng-template ngbTabContent>
            <div *ngIf="totalStudies > requestedStudyCount">
              Report generation in progress ... Studies processed: {{ requestedStudyCount }} / {{ totalStudies }}
            </div>

            <app-offline-validations-list [records]="sortedOfflineValidationRecords" [searchTerm]="searchTerm">
            </app-offline-validations-list>
          </ng-template>
        </ngb-tab>
      </ngb-tabset> -->
    </div>
  </div>
</div>
