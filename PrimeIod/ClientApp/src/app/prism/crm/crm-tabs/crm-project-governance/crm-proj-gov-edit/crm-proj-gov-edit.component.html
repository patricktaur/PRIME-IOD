
<app-loader [isLoading]="true" *ngIf="loading"></app-loader>

<form [formGroup]="form" (ngSubmit)="submit()">
  <formly-form [model]="review?.data" [fields]="fields" [options]="options" [form]="form"></formly-form>
  <br />
  <button type="submit" class="btn btn-primary submit-button" [disabled]="!(form.valid && form.dirty)">Save</button>
  <button type="button" class="btn btn-light" (click)="options.resetModel()">Undo</button>
  <app-confirmation-shell
  *ngIf="canReview()"
  [message]="'Confirm review ?'"
  [labelText]="'Mark as Reviewed'"
  [responseValue]="reviewId"
  (response)="markAsReviwed($event)"
></app-confirmation-shell>

<!-- <p>reviewId: {{reviewId}}</p> -->
  
  <app-last-saved [auditFields]="review"></app-last-saved>
</form>

<hr />

<!-- <p>Record: {{ review?.recId | json }}</p>  -->

